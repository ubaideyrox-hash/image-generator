<div class="container">
    <div *ngIf="loader==true">
        <div class="site-loader" id="site-loader">
            <span class="loader-spin"></span>
        </div>
    </div>
    <div class="search-display-container">
        <span class="p-input-icon-right search-input" [ngClass]="isFullInput ? 'input-span-full-width': ''">
            <i class="pi pi-search icon-color" (click)="toggleInput(true)"></i>
            <input type="text" (input)="search($event)" pInputText placeholder="Search in All items" class="input-search">
        </span>
    </div>
    <div class="container2" (click)="toggleInput(false)">
        <div class="margin-top">
            <div>
                <h5>All Items</h5>
            </div>

            <!-- <div class="n-items">
                <p> 10 Items &nbsp; | Per Page : <span class="dropdown-container"><p-dropdown [options]="itemsCount"
                            [(ngModel)]="selectedCount" optionLabel="count" optionValue="count"></p-dropdown></span>
                </p>

            </div> -->
        </div>

        <div style="display: flex; align-items: center; height: 40px;">
            <!-- <button pButton type="button" label="+ Add Folder" ></button>    -->
            <div style="background-color: white; padding: 8px;margin: 5px; border-radius: 3px;">
                <i class="pi pi-th-large
                " style="color: black;"></i>
            </div>

            <div style="background-color: white; padding: 8px;margin: 5px; border-radius: 3px;" (click)="getPlayers()">
                <i class="pi pi-sync"> </i>

            </div>
        </div>
    </div>
    <p-table [value]="allRecords" sortMode="multiple" [(selection)]="dtSelectedRows" [rows]="10" [showCurrentPageReport]="true" [paginator]="true" [rowsPerPageOptions]="[10,20,50,100,{showAll:'All'}]" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [paginator]="true"
        [tableStyle]="{'width': '100%', 'border-bottom-spacing':'10px'}">
        <ng-template pTemplate="header">
            <tr>
                <th style=" background: none;">
                    <p-tableHeaderCheckbox (click)="checkVal()"></p-tableHeaderCheckbox>
                </th>
                <th pSortableColumn="cpuSerialNumber" style=" background: none; ">Name <p-sortIcon field="cpuSerialNumber"></p-sortIcon></th>
                <th pSortableColumn="currentPlaylist" style=" background: none; ">Playlist <p-sortIcon field="currentPlaylist"></p-sortIcon></th>
                <th pSortableColumn="isConnected" style=" background: none;">Status <p-sortIcon field="isConnected"></p-sortIcon></th>
                <th pSortableColumn="ip" style=" background: none;">IP <p-sortIcon field="ip"></p-sortIcon></th>
                <th pSortableColumn="TZ" style=" background: none;">Country <p-sortIcon field="TZ"></p-sortIcon></th>
                <th pSortableColumn="createdAt" style=" background: none;">Modified <p-sortIcon field="createdAt"></p-sortIcon></th>
                <th style=" background: none;">Actions</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-moniters>
            <tr (dblclick)="edit(moniters)">
                <td>
                    <p-tableCheckbox [value]="moniters" (click)="checkVal()"></p-tableCheckbox>
                </td>
                <td>
                    <div style="display:flex; align-items: center;cursor: pointer;">
                       Player {{moniters.cpuSerialNumber | slice:10}}
                    </div>
                </td>
                <td>{{moniters.currentPlaylist}}</td>

                <td>{{moniters.isConnected==false?'offline':'online'}}</td>
                <td>{{moniters.ip}}</td>
                <td>{{moniters.TZ}}</td>
                <td>{{moniters.createdAt | date}}</td>


                <!-- <td>
                    <i class="pi pi-images 
                    " style="color: green;"></i>
                    <i class="pi pi-video 
                    " style="color: black; margin-left: 5px;"></i>
                </td> -->
                <td>
                    <!-- <p-menubar (click) ="Actions($event,imageInfo.name)"  [baseZIndex]="10000" [autoZIndex]="false" [baseZIndex]="10000" [autoZIndex]="false" [model]="global.items"></p-menubar> -->
                    <p-overlayPanel #op>
                        <ng-template pTemplate>
                            <ul class="actions-ul">
                                <li class="p-2 list-item" (click)="edit(moniters)">
                                    <i class="pi pi-pencil" style="font-size: 1em"></i>
                                    <span class="ml-2">Edit</span>

                                </li>
                                <!-- <li class="p-2 list-item">
                                    <i class="pi pi-copy" style="font-size: 1em"></i>
                                    <span class="ml-2">Duplicate</span>

                                </li> -->
                                <li class="p-2 list-item" (click)="Delete(moniters)">
                                    <i class="pi pi-trash" style="font-size: 1em; color: #DD5A43;"></i>
                                    <span class="ml-2" style="color: #DD5A43;">Delete</span>
                                </li>
                            </ul>
                        </ng-template>
                    </p-overlayPanel>
                    <button class="three-dots-btn" type="text" pButton label="..." (click)="op.toggle($event)"></button>
                </td>
            </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage" let-columns>
            <tr>
              <td [attr.colspan]="30" class="text-center">
                <strong *ngIf="noRecord">No records found</strong>
              </td>
            </tr>
          </ng-template>
    </p-table>

    <!-- <div class="footer">
        <button pButton type="button" label="Add Image" (click)="changeAddImageDisplay()"></button>
        <button pButton type="button" label="Actions"></button>
    </div> -->

    <div class="flex" class="bttns">
        <!-- <button [routerLink]="'/main/monitor-detail'" pButton type="button" label="Add Monitor"
            class="p-button-warning playlist-btn "></button> -->

        <!-- <p-menubar [model]="global.actionMenu" class="action-margin-right" style=" background-color: white; padding: 5px ; border:1px solid black; border-radius: 5px;" ></p-menubar> -->
        <p-overlayPanel #op>
            <ng-template pTemplate>
                <ul class="actions-ul">
                    <!-- <li class="p-2 list-item">
                        <i class="pi pi-pencil" style="font-size: 1em"></i>
                        <span class="ml-2">Edit</span>

                    </li>
                    <li class="p-2 list-item">
                        <i class="pi pi-copy" style="font-size: 1em"></i>
                        <span class="ml-2">Duplicate</span>

                    </li> -->
                    <li class="p-2 list-item">
                        <i class="pi pi-trash" style="font-size: 1em; color: #DD5A43;"></i>
                        <span class="ml-2" style="color: #DD5A43;">Delete</span>
                    </li>
                </ul>
            </ng-template>
        </p-overlayPanel>
        <button [disabled]=actionButton class="action-footer-btn" type="text" pButton label="Actions" (click)="op.toggle($event)"></button>
    </div>
</div>